<div ng-include="'components/navbar/navbar.html'"></div>
  <h1>Clients</h1>
  <table class="table table-striped">
    <thead>
      <th>First Name</th>
      <th>Last Name</th>
      <th>E-mail</th>
      <th>Phone Number</th>
    </thead>
    <tbody>
      <tr ng-click="showButtons=true" ng-repeat="client in clients">
        <td ng-hide="showButtons">{{client.firstName}}</td>
        <td ng-show="showButtons"><input type="text" ng-model="client.firstName"></td>
        <td ng-hide="showButtons">{{client.lastName}}</td>
        <td ng-show="showButtons"><input type="text" ng-model="client.lastName"></td>
        <td ng-hide="showButtons">{{client.email}}</td>
        <td ng-show="showButtons"><input type="text" ng-model="client.email"></td>
        <td ng-hide="showButtons">{{client.phoneNumber}}</td>
        <td ng-show="showButtons" ><input type="text" ng-model="client.phoneNumber"></td>
        <td ng-show="showButtons">
          <button class="btn btn btn-primary"  ng-click="updateClient($index)">Update</button>
        </td>
        <td ng-show="showButtons">
          <button class="btn btn-success"  ng-click="updateClientCancel()">Cancel</button>
        </td>
        <td ng-show="showButtons">
          <button class="btn btn-danger"  ng-click="deleteClient($index)">Delete</button>
        </td>
        

      </tr>
    </tbody>
  </table>
  <div name="form">
  <form name="myForm" ng-submit="myForm.$valid && addNewClient()" ng-controller="ClientsCtrl" novalidate>
      <table class="table ">
      <tr id="addClient">
      <td>
        <input name="firstName" type="text" ng-model="newClient.firstName" required/>
       <p class="error" ng-show="myForm.firstName.$untouched && myForm.$submitted">This field is required</p>
      </td>
      <td>
         <input name="lastName" type="text" ng-model="newClient.lastName" minlength="2" required/>
         <p class="error" ng-show="myForm.lastName.$untouched && myForm.$submitted">This field is required</p>
      </td>
      <td>
        <input name="email" type="email" ng-model="newClient.email" required>
        <p class="error" ng-show="myForm.email.$untouched && myForm.$submitted">This field is required</p>
        <p class="error" ng-show="myForm.email.$invalid && myForm.email.$dirty && myForm.$submitted ">Enter a valid email.</p>
        
      </td>
      <td>
        <input name="phoneNumber" type="tel" pattern="\d*" ng-model="newClient.phoneNumber" required>
        <p class="error" ng-show="myForm.phoneNumber.$untouched && myForm.$submitted">This field is required</p>
        <p class="error" ng-show="myForm.phoneNumber.$invalid && myForm.phoneNumber.$dirty && myForm.$submitted ">Invalid phone number.</p>
      </td>
      <td>
        <button type="submit" class="btn btn-primary" >Add New</button>
      </td>
   
    </form>
  </div>
  
</div>


